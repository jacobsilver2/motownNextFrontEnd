{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{\"7W2i\":function(e,t,n){var r=n(\"SksO\");e.exports=function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},\"GNW/\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/song\",function(){return n(\"gSph\")}])},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}},VUBQ:function(e,t,n){\"use strict\";var r=n(\"vOnD\"),o=n(\"q1tI\"),i=n.n(o).a.createElement,a=r.c.div.withConfig({displayName:\"ErrorMessage__ErrorStyles\",componentId:\"sc-15nap07-0\"})([\"padding:2rem;background:white;margin:2rem 0;border:1px solid rgba(0,0,0,0.05);border-left:5px solid red;p{margin:0;font-weight:100;}strong{margin-right:1rem;}\"]),l=function(e){var t=e.error;return t&&t.message?t.networkError&&t.networkError.result&&t.networkError.result.errors.length?t.networkError.result.errors.map((function(e,t){return i(a,{key:t},i(\"p\",{\"data-test\":\"graphql-error\"},i(\"strong\",null,\"Shoot!\"),e.message.replace(\"GraphQL error: \",\"\")))})):i(a,null,i(\"p\",{\"data-test\":\"graphql-error\"},i(\"strong\",null,\"Shoot!\"),t.message.replace(\"GraphQL error: \",\"\"))):null};l.defaultProps={error:{}},t.a=l},YFqc:function(e,t,n){e.exports=n(\"cTJO\")},a1gu:function(e,t,n){var r=n(\"cDf5\"),o=n(\"PJYZ\");e.exports=function(e,t){return!t||\"object\"!==r(t)&&\"function\"!==typeof t?o(e):t}},cTJO:function(e,t,n){\"use strict\";var r=n(\"lwsE\"),o=n(\"W8MJ\"),i=n(\"a1gu\"),a=n(\"Nsbk\"),l=n(\"7W2i\"),s=n(\"TqRt\"),u=n(\"284h\");t.__esModule=!0,t.default=void 0;var c,p=u(n(\"q1tI\")),f=n(\"QmWs\"),d=n(\"g/15\"),h=s(n(\"nOHt\"));function m(e){return e&&\"object\"===typeof e?(0,d.formatWithValidation)(e):e}var g=new Map,v=window.IntersectionObserver,b={};function y(){return c||(v?c=new v((function(e){e.forEach((function(e){if(g.has(e.target)){var t=g.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(c.unobserve(e.target),g.delete(e.target),t())}}))}),{rootMargin:\"200px\"}):void 0)}var w=function(e){function t(e){var n;return r(this,t),(n=i(this,a(t).call(this,e))).p=void 0,n.cleanUpListeners=function(){},n.formatUrls=function(e){var t=null,n=null,r=null;return function(o,i){if(r&&o===t&&i===n)return r;var a=e(o,i);return t=o,n=i,r=a,a}}((function(e,t){return{href:m(e),as:t?m(t):t}})),n.linkClicked=function(e){var t=e.currentTarget,r=t.nodeName,o=t.target;if(\"A\"!==r||!(o&&\"_self\"!==o||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var i=n.formatUrls(n.props.href,n.props.as),a=i.href,l=i.as;if(function(e){var t=(0,f.parse)(e,!1,!0),n=(0,f.parse)((0,d.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(a)){var s=window.location.pathname;a=(0,f.resolve)(s,a),l=l?(0,f.resolve)(s,l):a,e.preventDefault();var u=n.props.scroll;null==u&&(u=l.indexOf(\"#\")<0),h.default[n.props.replace?\"replace\":\"push\"](a,l,{shallow:n.props.shallow}).then((function(e){e&&u&&(window.scrollTo(0,0),document.body.focus())}))}}},n.p=!1!==e.prefetch,n}return l(t,e),o(t,[{key:\"componentWillUnmount\",value:function(){this.cleanUpListeners()}},{key:\"getPaths\",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as),n=t.href,r=t.as,o=(0,f.resolve)(e,n);return[o,r?(0,f.resolve)(e,r):o]}},{key:\"handleRef\",value:function(e){var t=this;this.p&&v&&e&&e.tagName&&(this.cleanUpListeners(),b[this.getPaths().join(\"%\")]||(this.cleanUpListeners=function(e,t){var n=y();return n?(n.observe(e),g.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}g.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:\"prefetch\",value:function(e){if(this.p){var t=this.getPaths();h.default.prefetch(t[0],t[1],e).catch((function(e){0})),b[t.join(\"%\")]=!0}}},{key:\"render\",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,o=n.as;\"string\"===typeof t&&(t=p.default.createElement(\"a\",null,t));var i=p.Children.only(t),a={ref:function(t){e.handleRef(t),i&&\"object\"===typeof i&&i.ref&&(\"function\"===typeof i.ref?i.ref(t):\"object\"===typeof i.ref&&(i.ref.current=t))},onMouseEnter:function(t){i.props&&\"function\"===typeof i.props.onMouseEnter&&i.props.onMouseEnter(t),e.prefetch({priority:!0})},onClick:function(t){i.props&&\"function\"===typeof i.props.onClick&&i.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&(\"a\"!==i.type||\"href\"in i.props)||(a.href=o||r),p.default.cloneElement(i,a)}}]),t}(p.Component);t.default=w},gSph:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),o=n.n(r),i=n(\"h4VS\"),a=n(\"lTCR\"),l=n.n(a),s=n(\"ttZb\"),u=n(\"VUBQ\"),c=n(\"vOnD\"),p=n(\"YFqc\"),f=n.n(p),d=n(\"3Mv1\"),h=n(\"mVCd\"),m=o.a.createElement;function g(){var e=Object(i.a)([\"\\n  query SINGLE_SONG_QUERY($id: ID!) {\\n    song(where: { id: $id }) {\\n      id\\n      title\\n      composer {\\n        id\\n        name\\n      }\\n      publisher\\n      publishedDate\\n      altTitle\\n      instrumental\\n      fromFilm\\n      tribute\\n      artists {\\n        id\\n        name\\n      }\\n      albums {\\n        id\\n        title\\n      }\\n      recordings {\\n        id\\n        producer\\n        location\\n        completed\\n        albums {\\n          id\\n          title\\n        }\\n        song {\\n          id\\n          title\\n        }\\n      }\\n    }\\n  }\\n\"]);return g=function(){return e},e}c.c.div.withConfig({displayName:\"SingleSong__SingleSongStyles\",componentId:\"sc-1e0bt3h-0\"})([\"max-width:1200px;margin:2rem auto;box-shadow:\",\";display:grid;grid-auto-columns:1fr;grid-auto-flow:column;min-height:800px;.title{text-align:center;}.details{margin:3rem;font-size:2rem;}\"],(function(e){return e.theme.bs})),Object(c.c)(d.a).withConfig({displayName:\"SingleSong__ComponentTitleCard\",componentId:\"sc-1e0bt3h-1\"})([\"text-align:center;\"]);var v=c.c.div.withConfig({displayName:\"SingleSong__PerformedByAndRecordingspane\",componentId:\"sc-1e0bt3h-2\"})([\"display:grid;grid-template-columns:1fr 1fr;\"]),b=l()(g()),y=function(e){var t=e.id,n=Object(s.b)(b,{variables:{id:t}}),i=n.loading,a=n.error,l=n.data,c=Object(r.useState)(\"list\");c[0],c[1];if(a)return m(u.a,{error:a});if(i)return m(\"p\",null,\"Loading...\");if(!l.song)return m(\"p\",null,\"No song found for \",t);var p=l.song,g=p.title,y=p.composer,w=p.publisher,k=p.publishedDate,E=p.altTitle,O=p.instrumental,_=p.fromFilm,S=(p.tribute,p.artists),N=p.albums,x=p.recordings,C=y.map((function(e,t){var n=\", \";return y&&t===y.length-2&&(n=\"& \"),y&&!y[t+1]&&(n=\"\"),m(\"span\",{key:e.id},m(f.a,{href:{pathname:\"/composer\",query:{id:e.id}}},m(\"a\",null,e.name,\" \")),n)})),P=N.map((function(e){return m(d.a,{key:e.id,title:m(f.a,{href:{pathname:\"album\",query:{id:e.id}}},m(\"a\",null,e.title))},function(e){var t={};return x.forEach((function(n){n.albums.forEach((function(r){r.id===e.id&&(t.producer=n.producer,t.location=n.location,t.id=n.id,t.completed=n.completed)}))})),m(\"ul\",{key:t.id,style:{listStyleType:\"none\",margin:0,padding:0}},t.producer&&m(\"li\",null,\"Produced By: \",t.producer),t.location&&m(\"li\",null,\"Recording Location: \",t.location),t.completed&&m(\"li\",null,\"Completed: \",Object(h.a)(t.completed)))}(e))}));return m(o.a.Fragment,null,m(d.a,{isTitle:!0,title:g,subTitle:C},E&&m(\"h3\",{className:\"alttitle\"},\"Alt Title: \",E),w&&m(\"h3\",{className:\"publisher\"},\"Publisher: \",w),k&&m(\"h3\",{className:\"publisheddate\"},\"Published Date: \",Object(h.a)(k)),O&&m(\"h3\",{className:\"instrumental\"},\"Instrumental\"),_&&m(\"h3\",{className:\"fromfilm\"},\"From Film: \",_)),m(v,null,S&&m(d.a,{title:\"Performed by: \"},m(\"ul\",{style:{listStyleType:\"none\",margin:0,padding:0}},S.map((function(e){return m(\"li\",{key:e.id},m(f.a,{href:{pathname:\"artist\",query:{id:e.id}}},m(\"a\",null,e.name)))})))),N&&m(d.a,{title:\"Can be heard on the album\".concat(N.length>1?\"s\":\"\",\":\")},P)))},w=o.a.createElement;t.default=function(e){var t=e.query;return w(y,{id:t.id})}}},[[\"GNW/\",1,2,0,3,5]]]);"}