{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation {\\n    clearSelectedIds @client\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation JOIN_SINGLES_MUTATION($albumOneId: ID!, $albumTwoId: ID!) {\\n    joinTwoSingles(albumOneId: $albumOneId, albumTwoId: $albumTwoId) {\\n      id\\n      title\\n    }\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation TURN_SINGLE_INTO_ALBUM_MUTATION($id: ID!) {\\n    turnSingleIntoAlbum(id: $id) {\\n      id\\n      title\\n      single\\n    }\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    selectedIds @client\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    me {\\n      id\\n      email\\n      name\\n      permissions\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport ButtonComponent from \"./Button\"; // import { CURRENT_USER_QUERY } from \"./Nav\";\n\nexport var Center = styled.div.withConfig({\n  displayName: \"AdminPanel__Center\",\n  componentId: \"sc-1o45frt-0\"\n})([\"display:flex;justify-content:center;align-items:center;\"]);\nexport var AdminPanelWrapper = styled.div.withConfig({\n  displayName: \"AdminPanel__AdminPanelWrapper\",\n  componentId: \"sc-1o45frt-1\"\n})([\"border-top:10px solid \", \";display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:20px;justify-content:center;align-items:stretch;position:fixed;bottom:0;left:0;right:0;background-color:white;height:150px;overflow:scroll;\"], function (props) {\n  return props.theme.black;\n});\nexport var SelectedItemsList = styled.ul.withConfig({\n  displayName: \"AdminPanel__SelectedItemsList\",\n  componentId: \"sc-1o45frt-2\"\n})([\"\"]);\nexport var CURRENT_USER_QUERY = gql(_templateObject());\nexport var LOCAL_STATE_QUERY = gql(_templateObject2());\nvar TURN_SINGLE_INTO_ALBUM_MUTATION = gql(_templateObject3());\nvar JOIN_SINGLES_MUTATION = gql(_templateObject4());\nvar CLEAR_SELECTED_IDS = gql(_templateObject5());\n\nvar AdminPanel = function AdminPanel() {\n  var _useMutation = useMutation(TURN_SINGLE_INTO_ALBUM_MUTATION),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      turnSingleIntoAlbumMutation = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      turnSingleIntoAlbumLoading = _useMutation2$.loading,\n      turnSingleIntoAlbumError = _useMutation2$.error;\n\n  var _useMutation3 = useMutation(JOIN_SINGLES_MUTATION),\n      _useMutation4 = _slicedToArray(_useMutation3, 2),\n      joinTwoSinglesMutation = _useMutation4[0],\n      _useMutation4$ = _useMutation4[1],\n      joinTwoSinglesLoading = _useMutation4$.loading,\n      joinTwoSinglesError = _useMutation4$.error;\n\n  var _useMutation5 = useMutation(CLEAR_SELECTED_IDS),\n      _useMutation6 = _slicedToArray(_useMutation5, 2),\n      clearSelectedIdsMutation = _useMutation6[0],\n      _useMutation6$ = _useMutation6[1],\n      clearSelectedIdsLoading = _useMutation6$.loading,\n      clearSelectedIdsError = _useMutation6$.error;\n\n  function turnSingleIntoAlbum() {\n    return _regeneratorRuntime.async(function turnSingleIntoAlbum$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            turnSingleIntoAlbumMutation({\n              variables: {\n                id: localStateData.selectedIds[0]\n              }\n            });\n            turnSingleIntoAlbumError && console.log(turnSingleIntoAlbumError);\n            clearSelectedIdsMutation();\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function joinASideAndBSide() {\n    return _regeneratorRuntime.async(function joinASideAndBSide$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            joinTwoSinglesMutation({\n              variables: {\n                albumOneId: localStateData.selectedIds[0],\n                albumTwoId: localStateData.selectedIds[1]\n              }\n            });\n            joinTwoSinglesError && console.log(joinTwoSinglesError);\n            clearSelectedIdsMutation();\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var _useQuery = useQuery(CURRENT_USER_QUERY),\n      currentUserLoading = _useQuery.loading,\n      currentUserError = _useQuery.error,\n      currentUserData = _useQuery.data;\n\n  var _useQuery2 = useQuery(LOCAL_STATE_QUERY),\n      localStateLoading = _useQuery2.loading,\n      localStateError = _useQuery2.error,\n      localStateData = _useQuery2.data;\n\n  if (currentUserLoading) return \"Loading...\";\n  if (currentUserError) return \"Error! \".concat(error.message);\n  var me = currentUserData.me;\n  return me && __jsx(React.Fragment, null, __jsx(AdminPanelWrapper, null, __jsx(ButtonComponent, {\n    marginTop: \"20px\",\n    marginBottom: \"20px\",\n    marginLeft: \"20px\",\n    marginRight: \"20px\",\n    buttonSize: \"large\",\n    onClick: turnSingleIntoAlbum\n  }, \"Turn Single Into Album\"), __jsx(ButtonComponent, {\n    marginTop: \"20px\",\n    marginBottom: \"20px\",\n    marginLeft: \"20px\",\n    marginRight: \"20px\",\n    onClick: turnSingleIntoAlbum,\n    buttonStyle: \"danger\",\n    buttonSize: \"large\"\n  }, \"Clear Selected Items\"), __jsx(ButtonComponent, {\n    marginTop: \"20px\",\n    marginBottom: \"20px\",\n    marginLeft: \"20px\",\n    marginRight: \"20px\",\n    buttonSize: \"large\",\n    onClick: joinASideAndBSide\n  }, \"Join A-Side and B-Side\")));\n};\n\nexport default AdminPanel;","map":null,"metadata":{},"sourceType":"module"}