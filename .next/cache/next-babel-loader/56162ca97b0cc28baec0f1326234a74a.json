{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jake/Development/projects/motownNext/frontend/components/AdminPanel.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation {\\n    clearSelectedIds @client\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation JOIN_SINGLES_MUTATION($albumOneId: ID!, $albumTwoId: ID!) {\\n    joinTwoSingles(albumOneId: $albumOneId, albumTwoId: $albumTwoId) {\\n      id\\n      title\\n    }\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation TURN_SINGLE_INTO_ALBUM_MUTATION($id: ID!) {\\n    turnSingleIntoAlbum(id: $id) {\\n      id\\n      title\\n      single\\n    }\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    selectedIds @client\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    me {\\n      id\\n      email\\n      name\\n      permissions\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { Button } from \"primereact/button\"; // import { CURRENT_USER_QUERY } from \"./Nav\";\n\nexport var Center = styled.div.withConfig({\n  displayName: \"AdminPanel__Center\",\n  componentId: \"sc-1o45frt-0\"\n})([\"display:flex;justify-content:center;align-items:center;\"]);\nexport var AdminPanelWrapper = styled.div.withConfig({\n  displayName: \"AdminPanel__AdminPanelWrapper\",\n  componentId: \"sc-1o45frt-1\"\n})([\"border-top:10px solid \", \";display:grid;grid-template-columns:1fr 1fr 1fr 1fr;justify-content:space-between;align-items:stretch;position:fixed;bottom:0;left:0;right:0;background-color:white;height:150px;overflow:scroll;\"], function (props) {\n  return props.theme.black;\n});\nexport var SelectedItemsList = styled.ul.withConfig({\n  displayName: \"AdminPanel__SelectedItemsList\",\n  componentId: \"sc-1o45frt-2\"\n})([\"\"]);\nexport var CURRENT_USER_QUERY = gql(_templateObject());\nexport var LOCAL_STATE_QUERY = gql(_templateObject2());\nvar TURN_SINGLE_INTO_ALBUM_MUTATION = gql(_templateObject3());\nvar JOIN_SINGLES_MUTATION = gql(_templateObject4());\nvar CLEAR_SELECTED_IDS = gql(_templateObject5());\n\nvar AdminPanel = function AdminPanel() {\n  var _useMutation = useMutation(TURN_SINGLE_INTO_ALBUM_MUTATION),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      turnSingleIntoAlbumMutation = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      turnSingleIntoAlbumLoading = _useMutation2$.loading,\n      turnSingleIntoAlbumError = _useMutation2$.error;\n\n  var _useMutation3 = useMutation(JOIN_SINGLES_MUTATION),\n      _useMutation4 = _slicedToArray(_useMutation3, 2),\n      joinTwoSinglesMutation = _useMutation4[0],\n      _useMutation4$ = _useMutation4[1],\n      joinTwoSinglesLoading = _useMutation4$.loading,\n      joinTwoSinglesError = _useMutation4$.error;\n\n  var _useMutation5 = useMutation(CLEAR_SELECTED_IDS),\n      _useMutation6 = _slicedToArray(_useMutation5, 2),\n      clearSelectedIdsMutation = _useMutation6[0],\n      _useMutation6$ = _useMutation6[1],\n      clearSelectedIdsLoading = _useMutation6$.loading,\n      clearSelectedIdsError = _useMutation6$.error;\n\n  function turnSingleIntoAlbum() {\n    return _regeneratorRuntime.async(function turnSingleIntoAlbum$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            turnSingleIntoAlbumMutation({\n              variables: {\n                id: checkedItems[0]\n              }\n            });\n            turnSingleIntoAlbumError && console.log(turnSingleIntoAlbumError);\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function joinASideAndBSide() {\n    return _regeneratorRuntime.async(function joinASideAndBSide$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            joinTwoSinglesMutation({\n              variables: {\n                albumOneId: checkedItems[0],\n                albumTwoId: checkedItems[1]\n              }\n            });\n            joinTwoSinglesError && console.log(joinTwoSinglesError);\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var _useQuery = useQuery(CURRENT_USER_QUERY),\n      currentUserLoading = _useQuery.loading,\n      currentUserError = _useQuery.error,\n      currentUserData = _useQuery.data;\n\n  var _useQuery2 = useQuery(LOCAL_STATE_QUERY),\n      localStateLoading = _useQuery2.loading,\n      localStateError = _useQuery2.error,\n      localStateData = _useQuery2.data;\n\n  if (currentUserLoading) return \"Loading...\";\n  if (currentUserError) return \"Error! \".concat(error.message);\n  var me = currentUserData.me;\n  return me && __jsx(React.Fragment, null, __jsx(AdminPanelWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, __jsx(SelectedItemsList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"Selected Items:\"), localStateData.selectedIds.map(function (selectedId) {\n    return __jsx(\"li\", {\n      key: selectedId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, selectedId);\n  })), __jsx(Button, {\n    onClick: function onClick() {\n      return turnSingleIntoAlbum();\n    },\n    label: \"TURN SINGLE INTO ALBUM\",\n    style: {\n      marginRight: \".25em\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), __jsx(Button, {\n    label: \"CLEAR SELECTED ITEMS\",\n    onClick: function onClick() {\n      return clearSelectedItems();\n    },\n    style: {\n      marginRight: \".25em\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }), __jsx(Button, {\n    label: \"JOIN A-SIDE AND B-SIDE\",\n    onClick: function onClick() {\n      return joinASideAndBSide();\n    },\n    style: {\n      marginRight: \".25em\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  })));\n};\n\nexport default AdminPanel;","map":{"version":3,"sources":["/Users/jake/Development/projects/motownNext/frontend/components/AdminPanel.js"],"names":["React","useState","styled","gql","useQuery","useMutation","Button","Center","div","AdminPanelWrapper","props","theme","black","SelectedItemsList","ul","CURRENT_USER_QUERY","LOCAL_STATE_QUERY","TURN_SINGLE_INTO_ALBUM_MUTATION","JOIN_SINGLES_MUTATION","CLEAR_SELECTED_IDS","AdminPanel","turnSingleIntoAlbumMutation","turnSingleIntoAlbumLoading","loading","turnSingleIntoAlbumError","error","joinTwoSinglesMutation","joinTwoSinglesLoading","joinTwoSinglesError","clearSelectedIdsMutation","clearSelectedIdsLoading","clearSelectedIdsError","turnSingleIntoAlbum","variables","id","checkedItems","console","log","joinASideAndBSide","albumOneId","albumTwoId","currentUserLoading","currentUserError","currentUserData","data","localStateLoading","localStateError","localStateData","message","me","selectedIds","map","selectedId","marginRight","clearSelectedItems"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { Button } from \"primereact/button\";\n// import { CURRENT_USER_QUERY } from \"./Nav\";\n\nexport const Center = styled.div`\n  /* text-align: center; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const AdminPanelWrapper = styled.div`\n  border-top: 10px solid ${(props) => props.theme.black};\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  justify-content: space-between;\n  align-items: stretch;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: white;\n  height: 150px;\n  overflow: scroll;\n`;\n\nexport const SelectedItemsList = styled.ul`\n  /* align-self: flex-start; */\n`;\n\nexport const CURRENT_USER_QUERY = gql`\n  query {\n    me {\n      id\n      email\n      name\n      permissions\n    }\n  }\n`;\n\nexport const LOCAL_STATE_QUERY = gql`\n  query {\n    selectedIds @client\n  }\n`;\n\nconst TURN_SINGLE_INTO_ALBUM_MUTATION = gql`\n  mutation TURN_SINGLE_INTO_ALBUM_MUTATION($id: ID!) {\n    turnSingleIntoAlbum(id: $id) {\n      id\n      title\n      single\n    }\n  }\n`;\n\nconst JOIN_SINGLES_MUTATION = gql`\n  mutation JOIN_SINGLES_MUTATION($albumOneId: ID!, $albumTwoId: ID!) {\n    joinTwoSingles(albumOneId: $albumOneId, albumTwoId: $albumTwoId) {\n      id\n      title\n    }\n  }\n`;\n\nconst CLEAR_SELECTED_IDS = gql`\n  mutation {\n    clearSelectedIds @client\n  }\n`;\n\nconst AdminPanel = () => {\n  const [\n    turnSingleIntoAlbumMutation,\n    { loading: turnSingleIntoAlbumLoading, error: turnSingleIntoAlbumError },\n  ] = useMutation(TURN_SINGLE_INTO_ALBUM_MUTATION);\n\n  const [\n    joinTwoSinglesMutation,\n    { loading: joinTwoSinglesLoading, error: joinTwoSinglesError },\n  ] = useMutation(JOIN_SINGLES_MUTATION);\n\n  const [\n    clearSelectedIdsMutation,\n    { loading: clearSelectedIdsLoading, error: clearSelectedIdsError },\n  ] = useMutation(CLEAR_SELECTED_IDS);\n\n  async function turnSingleIntoAlbum() {\n    turnSingleIntoAlbumMutation({ variables: { id: checkedItems[0] } });\n    turnSingleIntoAlbumError && console.log(turnSingleIntoAlbumError);\n  }\n\n  async function joinASideAndBSide() {\n    joinTwoSinglesMutation({\n      variables: { albumOneId: checkedItems[0], albumTwoId: checkedItems[1] },\n    });\n    joinTwoSinglesError && console.log(joinTwoSinglesError);\n  }\n  const {\n    loading: currentUserLoading,\n    error: currentUserError,\n    data: currentUserData,\n  } = useQuery(CURRENT_USER_QUERY);\n\n  const {\n    loading: localStateLoading,\n    error: localStateError,\n    data: localStateData,\n  } = useQuery(LOCAL_STATE_QUERY);\n\n  if (currentUserLoading) return \"Loading...\";\n  if (currentUserError) return `Error! ${error.message}`;\n  const { me } = currentUserData;\n  return (\n    me && (\n      <>\n        <AdminPanelWrapper>\n          <SelectedItemsList>\n            <p>Selected Items:</p>\n            {localStateData.selectedIds.map((selectedId) => (\n              <li key={selectedId}>{selectedId}</li>\n            ))}\n          </SelectedItemsList>\n          <Button\n            onClick={() => turnSingleIntoAlbum()}\n            label=\"TURN SINGLE INTO ALBUM\"\n            style={{ marginRight: \".25em\" }}\n          />\n          <Button\n            label=\"CLEAR SELECTED ITEMS\"\n            onClick={() => clearSelectedItems()}\n            style={{ marginRight: \".25em\" }}\n          />\n          <Button\n            label=\"JOIN A-SIDE AND B-SIDE\"\n            onClick={() => joinASideAndBSide()}\n            style={{ marginRight: \".25em\" }}\n          />\n        </AdminPanelWrapper>\n      </>\n    )\n  );\n};\n\nexport default AdminPanel;\n"]},"metadata":{},"sourceType":"module"}